# Тестовое задание: RESTful API для сервиса RideTech

## Описание проекта
Разработать RESTful API для управления поездками в сервисе райдшеринга. Пользователи должны иметь возможность регистрироваться, бронировать поездки, управлять своими заказами и получать информацию о доступных водителях.

## Требования

### 1. Функциональные требования

#### Аутентификация и управление пользователями
- **Регистрация**: имя, email, телефон, пароль, роль (пассажир/водитель).
- **Вход в систему**: аутентификация через Laravel Sanctum.
- **Выход**: отзыв токена.

#### Управление поездками
**Пассажир**:
- Создание поездки (адрес отправления, адрес назначения, предпочтения).
- Отмена поездки.
- Просмотр истории поездок.

**Водитель**:
- Просмотр доступных поездок (статус "ожидает водителя").
- Принятие/отклонение поездки.
- Завершение поездки.

#### Управление транспортными средствами (для водителей)
- Добавление машины (модель, марка, номерной знак).
- Удаление/обновление информации о транспорте.

#### Дополнительно
- Рейтинг и отзывы: пассажиры могут оставлять отзывы водителям.
- Пагинация списка поездок.
- Фильтрация поездок (по статусу, дате, пассажиру, водителю).

### 2. Технические требования
- **Стек технологий**:
    - Backend: PHP 8+, Laravel 10+
    - База данных: PostgreSQL или MySQL
    - Аутентификация: Laravel Sanctum
    - ORM: Eloquent
    - Документация API: Swagger (или Postman)
    - Тестирование: PHPUnit (минимум 5 feature-тестов)

#### API-эндпоинты
**Аутентификация**:
- `POST /api/register` — регистрация
- `POST /api/login` — вход
- `POST /api/logout` — выход

**Управление поездками**:
- `POST /api/trips` — создать поездку
- `GET /api/trips` — список поездок пользователя
- `GET /api/trips/{id}` — детали поездки
- `PUT /api/trips/{id}` — обновить поездку
- `DELETE /api/trips/{id}` — отменить поездку

**Управление водителями и машинами**:
- `POST /api/cars` — добавить машину
- `GET /api/cars` — список машин водителя
- `DELETE /api/cars/{id}` — удалить машину

**Рейтинг и отзывы**:
- `POST /api/reviews/{driver_id}` — оставить отзыв водителю
- `GET /api/reviews/{driver_id}` — список отзывов

### 3. Оценка работы
**Основные критерии**:
- Чистота и читаемость кода (SOLID, MVC, best practices Laravel).
- Безопасность (проверка прав доступа, защита от SQL-инъекций).
- Корректная работа API (проверка статусов, валидация данных).
- Покрытие тестами (Feature-тесты для ключевых сценариев).
- Документация (README + API Swagger/Postman).

**Будет плюсом**:
- WebSockets (уведомления о статусе поездки).
- Кэширование запросов (Redis).
- Rate Limiting для API (Throttle).

### 4. Инструкции по сдаче
- Разместить проект в публичном GitHub-репозитории.
- Добавить README с инструкцией по установке и запуску.
- Подготовить Postman-коллекцию или Swagger-документацию.
- Проверить корректную работу всех миграций.
